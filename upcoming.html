<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Upcoming Matches</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="icon" type="image/jpeg" href="fifa26.jpeg">

<style>
body {
    background:#0f0f0f;
    font-family:'Cairo', Arial, sans-serif;
    color:#fff;
    font-weight:700;
}
h2 { text-align:center; margin-bottom:15px; }
table { width:100%; border-collapse: collapse; font-size:14px; margin-top:10px;}
th { background:#2b2b2b; padding:10px; font-weight:800;}
td { padding:8px; text-align:center; }
tr:nth-child(even) { background:#1a1a1a; }
nav {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 20px;
}
nav a {
    text-decoration: none;
    color: #fff;
    font-weight: 700;
    padding: 10px 25px;
    border-radius: 8px;
    transition: all 0.3s ease;
    background: #2b2b2b;
}
nav a:hover { background: #3498db; transform: scale(1.05); }
nav a.active { background: #3498db; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
</style>
</head>
<body>

<nav>
  <a href="index.html">League Table</a>
  <a href="matches.html">Match Results</a>
  <a href="upcoming.html" class="active">Upcoming Matches</a>
</nav>


<h2>Upcoming Matches</h2>
<table>
<thead>
<tr>
  <th>#</th>
  <th>Home Team</th>
  <th>Away Team</th>
</tr>
</thead>
<tbody id="upcomingBody"></tbody>
</table>

<script>
const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vT54W8eLRnu7YjOYR49uv-FWsBL1VZR3JUptdsdaP7gYmVIyrtHEmoOd0ZR0uaAijzMXbAhmweN1_5n/pub?gid=866991516&single=true&output=csv";

function parseCSV(text) {
    return text.trim().split("\n").map(row =>
        row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(col => col.replace(/^"|"$/g, ''))
    );
}

const upcomingBody = document.getElementById("upcomingBody");

fetch(sheetURL + "&t=" + Date.now(), {
    cache: "no-store"
})

.then(res => res.text())
.then(csv => {
    const allData = parseCSV(csv).slice(1);
    upcomingBody.innerHTML = "";

    allData.forEach(match => {
        if(!match[1] || !match[2] || !match[11] || !match[12]) return;

        if(match[12] === "Upcoming") {
            upcomingBody.innerHTML += `
            <tr>
                <td>${match[1]}</td>
                <td>${match[2]}</td>
                <td>${match[11]}</td>
            </tr>`;
        }
    });
})
.catch(err => console.error("Error loading sheet:", err));
</script>

</body>
</html>
