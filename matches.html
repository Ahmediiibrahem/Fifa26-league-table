<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Results</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="icon" type="image/jpeg" href="fifa26.jpeg">
<style>
.page-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; }
.header-logo { height: 100px; object-fit: contain; }
nav { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
nav a { text-decoration: none; color: #fff; font-weight: 700; padding: 10px 25px; border-radius: 8px; transition: all 0.3s ease; background: #2b2b2b; }
nav a:hover { background: #3498db; color: #fff; transform: scale(1.05); }
nav a.active { background: #3498db; color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
body { font-family:'Cairo', Arial, sans-serif; color:#fff; font-weight:700; background: linear-gradient(rgba(15,15,15,0.85), rgba(15,15,15,0.85)), url("standings-bg.jpg"); background-size: cover; background-position: center; background-attachment: fixed; }
h2 { text-align:center; margin-bottom:15px; }
table { width:100%; border-collapse: collapse; font-size:14px; margin-top:10px;}
th { background:#2b2b2b; padding:10px; font-weight:800;}
td { padding:8px; text-align:center; }
tr:nth-child(even) { background:#1a1a1a; }
.round-separator { background: linear-gradient(to right, #3498db, #2980b9); height: 5px; }
</style>
</head>
<body>

<div class="page-header">
    <img src="left-logo.png" alt="Left Logo" class="header-logo left">
    <img src="right-logo.png" alt="Right Logo" class="header-logo right">
</div>

<nav>
  <a href="index.html">Standings</a>
  <a href="matches.html" class="active">Results</a>
  <a href="upcoming.html">Upcoming</a>
  <a href="team-stats.html">Stats</a>
  <a href="scorers.html">Scorers</a>
  <a href="squads.html">Squads</a>

</nav>

<h2>Results</h2>

<table>
<thead>
<tr>
  <th>#</th>
  <th>Home Team</th>
  <th>Home Score</th>
  <th>Away Score</th>
  <th>Away Team</th>
</tr>
</thead>
<tbody id="resultsBody"></tbody>
</table>

<script>
const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vT54W8eLRnu7YjOYR49uv-FWsBL1VZR3JUptdsdaP7gYmVIyrtHEmoOd0ZR0uaAijzMXbAhmweN1_5n/pub?gid=866991516&single=true&output=csv";

function parseCSV(text) {
    return text.trim().split("\n").map(row => 
        row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(col => col.replace(/^"|"$/g, ''))
    );
}

fetch(sheetURL + "&t=" + Date.now(), { cache: "no-store" })
.then(res => res.text())
.then(csv => {
    const allData = parseCSV(csv).slice(1); // تجاهل الهيدر
    const tbody = document.getElementById("resultsBody");
    tbody.innerHTML = "";
    let matchCount = 0;

    allData.forEach(match => {
        // سحب الأعمدة الصحيحة
        const matchID = match[1];
        const homeTeam = match[2];
        const homeScore = match[6];
        const awayScore = match[7];
        const awayTeam = match[11];

        // تجاهل أي صف غير مكتمل أو يحتوي نصوص غير مناسبة
        if(!matchID || !homeTeam || !awayTeam) return;
        if(isNaN(parseInt(homeScore)) || isNaN(parseInt(awayScore))) return;

        tbody.innerHTML += `
        <tr>
            <td>${matchID}</td>
            <td>${homeTeam}</td>
            <td>${homeScore}</td>
            <td>${awayScore}</td>
            <td>${awayTeam}</td>
        </tr>`;

        matchCount++;
        if(matchCount % 8 === 0){
            tbody.innerHTML += `<tr class="round-separator"><td colspan="5"></td></tr>`;
        }
    });
})
.catch(err => console.error("Error loading sheet:", err));
</script>

</body>
</html>
